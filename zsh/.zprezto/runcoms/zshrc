#
# Executes commands at the start of an interactive session.
#
# Authors:
#   Sorin Ionescu <sorin.ionescu@gmail.com>
#   Anthony Brice <whitebrice@gmail.com>
#

# Source Prezto.
if [[ -s "${ZDOTDIR:-$HOME}/.zprezto/init.zsh" ]]; then
    source "${ZDOTDIR:-$HOME}/.zprezto/init.zsh"
fi

# Customize to your needs...

# Set path here rather than zshenv b/c /etc/profile (which is run after zshenv
# but before this) adds a bunch of nix stuff to path
path=($HOME/.local/bin $HOME/.npm-global/bin $HOME/.nix-profile/bin $HOME/bin $HOME/.cabal/bin $path)
typeset -gU PATH path
export path


# Aliases

alias ls='ls --color=auto'
alias grep='grep --color=auto'

export ncpus=4

function chpwd() {
    emulate -L zsh
    ls
}

# The following lines were added by compinstall
# zstyle :compinstall filename '/home/anthony/.zshrc'

# autoload -Uz compinit
# compinit
# End of lines added by compinstall

#eval $(keychain --eval --quiet id_rsa)

#export SSH_AUTH_SOCK="$XDG_RUNTIME_DIR/ssh-agent.socket"

contains() {
    string="$1"
    substring="$2"
    if test "${string#*$substring}" != "$string"; then
        return 0    # $substring is in $string
    else
        return 1    # $substring is not in $string
    fi
}

# source /usr/share/zsh/plugins/zsh-syntax-highlighting/zsh-syntax-highlighting.zsh

for k in "${(@k)ZSH_HIGHLIGHT_STYLES}"; do
    ZSH_HIGHLIGHT_STYLES[$k]=${ZSH_HIGHLIGHT_STYLES[$k]:gs/fg=red,bold/fg=yellow,bold}
    ZSH_HIGHLIGHT_STYLES[$k]=${ZSH_HIGHLIGHT_STYLES[$k]:gs/fg=green,bold/fg=red}
    ZSH_HIGHLIGHT_STYLES[$k]=${ZSH_HIGHLIGHT_STYLES[$k]:gs/fg=green/fg=red,bold}
done

zstyle ':completion:*' rehash true
